{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Seller Home - NokshiBox</title>
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        /* Floating shapes animation */
        .floating {
            position: absolute;
            border-radius: 50%;
            opacity: 0.15;
            animation: float 20s linear infinite;
        }

        @keyframes float {
            0% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-50px) rotate(180deg); }
            100% { transform: translateY(0) rotate(360deg); }
        }

        /* Product card hover effect */
        .product-card:hover {
            transform: translateY(-8px) scale(1.02);
        }

        /* Hero fade-in animation */
        @keyframes fade-in {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .animate-fade-in {
            animation: fade-in 1.5s ease-out forwards;
        }
            /* Scroll-to-top button */
        #scrollTopBtn {
            position: fixed;
            bottom: 40px;
            right: 30px;
            background-color: #b5835a;
            color: #3b2f2f;
            padding: 14px;
            border-radius: 50%;
            font-size: 20px;
            display: none;
            cursor: pointer;
            z-index: 50;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            transition: transform 0.3s ease;
        }
        #scrollTopBtn:hover {
            transform: scale(1.1);
        }
    </style>
</head>

<body class="relative min-h-screen bg-[#f5f0e6] text-[#3b2f2f]">

<!-- Top Announcement Bar -->
<div class="bg-black text-center text-sm py-2 font-semibold uppercase tracking-wide shadow-sm">
  <span class="bg-gradient-to-r from-red-600 via-white to-red-600 bg-[length:200%_auto] bg-clip-text text-transparent animate-shine">
    ✨ Keep your shop fresh! Add new products and let your customers discover your talent. ✨
  </span>
</div>

<!-- Floating Shapes -->
<div class="floating w-32 h-32 bg-[#d9b08c] top-10 left-20"></div>
<div class="floating w-20 h-20 bg-[#c49a6c] top-1/2 left-1/4"></div>
<div class="floating w-24 h-24 bg-[#b5835a] top-3/4 left-3/4"></div>

<!-- Navbar -->
<nav class="bg-[#f5f0e6] bg-opacity-95 backdrop-blur-md shadow-md sticky top-0 z-50 transition-all duration-300">
    <div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
        <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">

        <a href="#"
           class="text-5xl hover:scale-105 transition-transform duration-300"
           style="font-family: 'Great Vibes', cursive; color: #5a3e2b; -webkit-text-stroke: 0.6px #5a3e2b;">
            Nokshi<span style="color: #a9745b;">Box</span>
        </a>

        <div class="flex items-center space-x-6">
            <!-- Nav Links -->
            <ul class="flex space-x-6">
                <li><a href="{%url 'home'%}" class="text-black hover:text-[#a9745b] font-medium transition duration-300">Home</a></li>
                <li><a href="#MyPost" class="text-black hover:text-[#a9745b] font-medium transition duration-300">My Posts</a></li>
                <li><a href="{%url 'products'%}" class="text-black hover:text-[#a9745b] font-medium transition duration-300">Products</a></li>
            </ul>

            <!-- Profile Picture Dropdown -->
            <div class="relative">
                {% if user_profile.photo %}
                    <img src="{{ user_profile.photo.url }}" alt="{{ user_profile.full_name }}"
                         class="w-12 h-12 rounded-full object-cover border-2 border-[#a9745b] cursor-pointer transition-transform hover:scale-110"
                         onclick="document.getElementById('dropdown-menu').classList.toggle('hidden')">
                {% else %}
                    <div class="w-10 h-10 rounded-full bg-[#a9745b] flex items-center justify-center text-[#f5f0e6] font-semibold cursor-pointer transition-transform hover:scale-110"
                         onclick="document.getElementById('dropdown-menu').classList.toggle('hidden')">
                        U
                    </div>
                {% endif %}

                <!-- Dropdown Menu -->
                <div id="dropdown-menu" class="hidden absolute right-0 mt-2 w-36 bg-[#f0e4d7] rounded-lg shadow-lg py-2 border border-[#b88b65] z-50">
                    <a href="{% url 'profile' user_profile.id %}" class="block px-4 py-2 text-[#5a3e2b] hover:bg-[#e2cbb3] transition duration-200">Profile</a>
                    <a href="{% url 'logout' %}" class="block px-4 py-2 text-[#5a3e2b] hover:bg-[#e2cbb3] transition duration-200">Logout</a>
                </div>
            </div>
        </div>
    </div>
</nav>

<!-- Hero Section -->
<div class="relative w-full h-96 overflow-hidden rounded-b-3xl flex items-center justify-center text-center">
    <div class="absolute inset-0">
        <img src="{% static 'image/sell.png' %}" alt="Hero Background"
             class="w-full h-full object-cover opacity-90">
        <div class="absolute inset-0 bg-gradient-to-r from-[#b5835a]/70 via-[#c49a6c]/70 to-[#d9b08c]/70"></div>
    </div>

    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&display=swap" rel="stylesheet">

    <div class="relative z-10 animate-fade-in px-4 md:px-20" style="font-family: 'Playfair Display', serif;">
        <h1 class="text-4xl md:text-5xl font-extrabold text-[#3b2f2f] mb-4 drop-shadow-lg">
            Welcome {{ user_profile.full_name }}
        </h1>
        <p class="text-[#5a3e2b] mb-6 text-base md:text-lg">
            Share your unique creations with the world and grow your craft business.
        </p>
        <a href="#create-post"
           class="inline-block bg-gradient-to-r from-[#c49a6c] to-[#b5835a] text-[#3b2f2f] px-6 py-3 rounded-lg font-semibold hover:from-[#b5835a] hover:to-[#a9745b] transition duration-300">
            Create New Post
        </a>
    </div>
</div>

<!-- Main Content Section -->
<div class="relative max-w-8xl mx-auto px-4 py-16 mt-10 rounded-3xl overflow-hidden">
    <div class="absolute inset-0">
        <img src="{% static 'image/cp.png'%}" alt="Main Background" class="w-83 h-73 object-cover opacity-90">

    </div>

    <div id="PostProduct" class="relative z-10 flex flex-col md:flex-row items-start gap-8">


    <!-- Right Create Post Card -->
    <div class="w-full md:w-1/3 md:ml-auto mr-32 ">
        <div id="create-post"
             class="relative w-full bg-[#d9b08c]/40 backdrop-blur-md shadow-2xl rounded-2xl border border-[#c49a6c]/50 transition duration-500 hover:scale-[1.02]">

            <!-- Header Text -->
          <div class="px-6 pt-6">
             <h2 class="text-2xl font-extrabold text-[#3b2f2f] mb-2 text-center relative">
                Post Your Product
                  <span class="absolute left-4 right-4 bottom-0 border-b-2 border-[#b5835a]"></span>
             </h2>
          </div>


            <!-- Profile Section -->
            <div class="flex items-center gap-3 p-4">
                {% if user_profile.photo %}
                    <img src="{{ user_profile.photo.url }}" alt="Profile" class="w-12 h-12 rounded-full border-2 border-[#a9745b] object-cover">
                {% else %}
                    <div class="w-12 h-12 rounded-full bg-[#a9745b] flex items-center justify-center text-[#fff2d1] font-bold">U</div>
                {% endif %}
                <div>
                    <p class="text-[#4B3621] font-semibold">{{ user_profile.full_name }}</p>
                </div>
            </div>

            <!-- Form -->
            <div class="p-6 space-y-4">
                <form method="post" enctype="multipart/form-data" class="space-y-4">
                    {% csrf_token %}
                    {{ form.as_p }}
                    <button type="submit" class="w-full bg-gradient-to-r from-[#c49a6c] to-[#b5835a] text-[#3b2f2f] font-semibold px-5 py-2 rounded-lg hover:from-[#b5835a] hover:to-[#a9745b] transition duration-300 transform hover:scale-105 shadow-md">
                       POST
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>


       <!-- My Posts Section -->
    <div id="MyPost" class="relative w-full mt-16 rounded-2xl overflow-hidden shadow-lg border border-[#c49a6c]/40 p-6 bg-[#f8f3ec]/70 backdrop-blur-sm">
        <!-- Floating shapes -->
        <div class="floating w-40 h-40 bg-[#d9b08c] top-10 left-20"></div>
        <div class="floating w-20 h-20 bg-[#4B3621] top-1/2 left-1/4"></div>
        <div class="floating w-24 h-24 bg-[#b5835a] top-3/4 left-3/4"></div>
        <div class="floating w-24 h-24 bg-[#b5835a] top-2/4 left-2/4"></div>

        <h2 class="text-2xl font-semibold text-[#3b2f2f] mb-8 text-center">My Posts</h2>

        <div class="grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-12">
            {% for product in my_products %}
            <div class="product-card bg-[#c49a6c]/90 backdrop-blur-md shadow-md rounded-lg overflow-hidden transition duration-500 transform hover:shadow-2xl hover:scale-105">

                <!-- Profile -->
                <div class="flex items-center gap-2 p-4">
                    {% if user_profile.photo %}
                        <img src="{{ user_profile.photo.url }}" alt="Profile" class="w-10 h-10 rounded-full border border-[#a9745b] object-cover">
                    {% else %}
                        <div class="w-10 h-10 rounded-full bg-[#a9745b] flex items-center justify-center text-[#fff2d1] font-bold text-sm">U</div>
                    {% endif %}
                    <div>
                        <p class="text-[#4B3621] font-semibold text-sm">{{ user_profile.full_name }}</p>
                    </div>
                </div>

                <!-- Product Image -->
                <img src="{{ product.image.url }}" alt="{{ product.title }}" class="w-full h-44 object-cover transition-transform duration-300 hover:scale-105">

                <!-- Product Details -->
                <div class="p-4 flex flex-col">
                    <h3 class="text-lg font-semibold text-[#3b2f2f] mb-1 truncate">{{ product.title }}</h3>
                    <p class="text-[#5a3e36] text-sm mb-1 truncate">{{ product.details|truncatechars:80 }}</p>
                    <p class="text-[#65432d] font-bold mb-3">Tk {{ product.price }}</p>
                    <div class="mt-auto flex gap-2">
                        <a href="{% url 'edit_product' product.pk %}" class="bg-[#b5835a] text-[#3b2f2f] px-3 py-1 rounded hover:bg-[#a9745b] transition duration-300 flex-1 text-center text-sm">Edit</a>
                        <form method="post" action="{% url 'delete_product' product.pk %}" class="flex-1" onsubmit="return confirm('Are you sure you want to delete this product?');">
                            {% csrf_token %}
                            <button type="submit" class="bg-[#a9745b] text-[#3b2f2f] px-3 py-1 rounded hover:bg-[#b5835a] transition duration-300 w-full text-sm">Delete</button>
                        </form>
                    </div>
                </div>
            </div>
            {% empty %}
            <p class="text-[#5a3e36] col-span-full text-center">You haven't posted any products yet.</p>
            {% endfor %}
        </div>
    </div>
</div>
       <!-- Footer -->
<footer class="bg-white border-t border-gray-200 py-3 mt-10">
  <div class="max-w-7xl mx-auto px-6 text-center">
    <p class="text-gray-600 text-sm">&copy; 2025 NokshiBox. All Rights Reserved.</p>
  </div>
</footer>

<!-- Scroll-to-top button -->
<button id="scrollTopBtn" onclick="scrollToTop()">↑</button>

<script>
    // Dropdown
    window.onclick = function(event) {
        const dropdown = document.getElementById('dropdown-menu');
        if (!event.target.closest('.relative')) dropdown.classList.add('hidden');
    }

    // Scroll button
    const scrollBtn = document.getElementById('scrollTopBtn');
    window.onscroll = function() {
        if (document.body.scrollTop > 300 || document.documentElement.scrollTop > 300) {
            scrollBtn.style.display = "block";
        } else {
            scrollBtn.style.display = "none";
        }
    };
    function scrollToTop() {
        window.scrollTo({top: 0, behavior: 'smooth'});
    }
</script>

</body>
</html>
